<div class="container">
    <h1 mat-dialog-title> {{ data.title }}</h1>
    <div mat-dialog-content>
        <div class="container">
            <form [formGroup]="frm" (ngSubmit)='save()'>
                <!-- <mat-form-field>
                    <input matInput placeholder="First name" formControlName="first_name" class="person-input">
                    <mat-hint align="end">{{frm.controls.first_name.value?.length || 0}}/10</mat-hint>
                    <mat-error *ngIf="frm.controls.first_name.invalid">{{getNameErrorMessage()}}</mat-error>
                </mat-form-field>

                <br />

                <mat-form-field>
                    <input matInput placeholder="Last name" formControlName="last_name" class="person-input">
                    <mat-hint align="end">{{frm.controls.last_name.value?.length || 0}}/10</mat-hint>
                    <mat-error *ngIf="frm.controls.last_name.invalid">{{getLastNameErrorMessage()}}</mat-error>
                </mat-form-field>

                <br />

                <mat-form-field>
                    <input matInput type="number" placeholder="Age" formControlName='age'>
                    <mat-hint align="end">{{frm.controls.age.value?.length || 0}}/10</mat-hint>
                    <mat-error *ngIf="frm.controls.age.invalid">{{getAgeErrorMessage()}}</mat-error>
                </mat-form-field>

                <br /> -->

                <mat-radio-group formControlName='Type'>
                    <mat-radio-button value="Image" (change)="radioChange($event)">Image</mat-radio-button>
                    <mat-radio-button value="Video" (change)="radioChange($event)">Video</mat-radio-button>
                    <mat-radio-button value="Both" (change)="radioChange($event)">Both</mat-radio-button>
                    <mat-error *ngIf="frm.controls.Type.invalid">{{getImageTypeErrorMessage()}}</mat-error>
                </mat-radio-group>

                <div class="misc-bottom-padding">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-6 offset-md-3">
                                {{Type}}
                                <h3>Choose File</h3>
                                <div class="form-group">
                                    <input type="file" multiple name="image" (change)="fileProgress($event)"
                                        accept="{{filetype}}" />
                                </div>

                                <h3 *ngIf="mediatype == 'Both'">Choose Video File</h3>
                                <div class="form-group" *ngIf="mediatype == 'Both'">
                                    <input type="file" name="image" (change)="fileProgressVideo($event)"
                                        accept="video/*" />
                                </div>

                                <div class="full-wrapper button-wrapper" *ngIf="previewUrl">
                                    <div class="button-wrapper">
                                        <a mat-flat-button color="primary" (click)="removeImage()">Remove</a>
                                    </div>
                                </div>
                                <div class="image-preview mb-3" *ngIf="previewUrl">
                                    <img [src]="previewUrl" height="300" />
                                </div>

                                <div class="mb-3" *ngIf="uploadedFilePath">
                                    {{filetype}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div mat-dialog-actions align="end">
                    <button mat-button [mat-dialog-close]>Cancel</button>
                    <button mat-raised-button color="primary" type="submit" class="btnSave"
                        [disabled]="(frm.controls.Type.value == 'Both' ? (fileDataVideo.length > 0 && fileData.length > 0 ? false : true) : (fileDataVideo.length > 0 || fileData.length > 0 ? false : true)  )">
                        <mat-icon aria-label="icon-button">save </mat-icon>
                        <span>Save</span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>